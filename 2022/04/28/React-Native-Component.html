

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.ico">
  <link rel="icon" href="/img/favicon.ico">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="　　我们在前面两篇RN的文章中介绍了RN的启动配置和样式编写，也简单地涉及了一些RN的组件View、Text和Image，本章我们继续结合官方的案例，深入挖掘RN的组件的用法及配置，以便后续在业务中使用组件。">
  <meta name="author" content="Corner">
  <meta name="keywords" content="Corner">
  
  <title>深入学习React Native之组件入门 - 谢小飞的博客</title>

  <link  rel="stylesheet" href="https://xieyufei.com/npm/bootstrap/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://xieyufei.com/npm/github-markdown-css@4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://xieyufei.com/npm/highlight.js@10.7.2/styles/vs2015.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://xieyufei.com/npm/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  



<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"xieyufei.com","root":"/","version":"1.8.11","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"baidu":"466240fe55764d8ee20bd7f43c5e8b26","google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":1260607518,"leancloud":{"app_id":null,"app_key":null,"server_url":null}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/title.js" ></script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 7.1.1"><link rel="alternate" href="/atom.xml" title="谢小飞的博客" type="application/atom+xml">
</head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>谢小飞的博客</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-pen"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-friends"></i>
                友链
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" target="_blank" rel="noopener" href="https://gallery.xieyufei.com/">
                <i class="iconfont icon-link-fill"></i>
                创意
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/bookshelf/">
                <i class="iconfont icon-books"></i>
                书架
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('//xieyufei.com/blog/bg_small.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="深入学习React Native之组件入门">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2022-04-28 13:14" pubdate>
        2022年4月28日 下午
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      7.8k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      103
       分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      
<style>
  .prevent_reptile{
    display: none;
  }
</style>
<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">深入学习React Native之组件入门</h1>
            
            <div class="markdown-body">
              <p>　　我们在前面两篇RN的文章中介绍了RN的启动配置和样式编写，也简单地涉及了一些RN的组件View、Text和Image，本章我们继续结合官方的案例，深入挖掘RN的组件的用法及配置，以便后续在业务中使用组件。</p>
<span id="more"></span>


<h1 id="核心组件"><a href="#核心组件" class="headerlink" title="核心组件"></a>核心组件</h1><p>　　RN提供了一些核心的组件，我们可以直接import后使用，其中也包含一些iOS或者Android特有的组件，只能针对对应的平台使用，我们来看下具体用法。</p>
<h2 id="基础组件"><a href="#基础组件" class="headerlink" title="基础组件"></a>基础组件</h2><p>　　首先是RN的五大基础组件，是我们在页面上最常用的组件，我们看下它们的的描述：</p>
<table>
<thead>
<tr>
<th>RN组件</th>
<th>对应Android视图</th>
<th>对应iOS视图</th>
<th>对应Html视图</th>
</tr>
</thead>
<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>
<tbody><tr>
<td>View</td>
<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>
<td>ViewGroup</td>
<td>UIView</td>
<td>非滚动div</td>
</tr>
<tr>
<script>if(window.location.hostname.indexOf("xieyufei.com") === -1){ window.location.href = "https://xieyufei.com" }</script>
<td>Text</td>
<td>TextView</td>
<td>UITextView</td>
<td>span或p</td>
</tr>
<tr>
<td>Image</td>
<td>ImageView</td>
<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>
<td>UIImageView</td>
<td>img</td>
</tr>
<tr>
<td>ScrollView</td>
<td>ScrollView</td>
<td>UIScrollView</td>
<td>滚动div</td>
<script>if(window.location.hostname.indexOf("xieyufei.com") === -1){ window.location.href = "https://xieyufei.com" }</script>
</tr>
<tr>
<td>TextInput</td>
<td>EditText</td>
<td>UITextField</td>
<td>input</td>
</tr>
</tbody></table>
<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>
<h3 id="View"><a href="#View" class="headerlink" title="View"></a>View</h3><p>　　<code>View组件</code>是最基础的组件，类似于div可以进行嵌套使用，在<a href="https://xieyufei.com/2021/10/26/React-Native-Style.html">RN样式布局</a>中我们介绍了它结合Flex样式进行页面布局；View在定位布局和div有一些区别，支持<code>absolute绝对定位</code>，不支持fixed和sticky定位。</p>
<p>　　直接在View上绑定点击事件，是没有用的，View不支持点击事件，如果我们想要监听它的点击，需要在将它放到<code>TouchableHighlight</code>等元素中：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx">&lt;<span class="hljs-title class_">TouchableHighlight</span> onPress=&#123;<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">onClickBox</span>()&#125;&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;styles.box&#125;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br>&lt;/<span class="hljs-title class_">TouchableHighlight</span>&gt;<br></code></pre></div></td></tr></table></figure>

<p>　　在RN页面开发中，如果使用绝对定位布局，某个View有可能会遮住它下方的某个组件；比如我们在一个地图组件上覆盖了一个图片用来展示信息，又不想让其影响下方组件的点击、触摸事件，就可以用到<code>pointerEvents</code>属性，它用于控制当前视图是否可以作为触控事件的目标，有以下几个值：</p>
<ul>
<li>auto：视图可以作为触控事件的目标。（默认）</li>
<script>if(window.location.hostname.indexOf("xieyufei.com") === -1){ window.location.href = "https://xieyufei.com" }</script>
<li>none：视图不能作为触控事件的目标。</li>
<li>box-none：视图自身不能作为触控事件的目标，但其子视图可以。</li>
<li>box-only：视图自身可以作为触控事件的目标，但其子视图不能。</li>
</ul>
<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>
<p>　　我们用样式构建三个重叠的View：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> styles = <span class="hljs-title class_">StyleSheet</span>.<span class="hljs-title function_">create</span>(&#123;<br>  <span class="hljs-attr">box1</span>: &#123;<br>    <span class="hljs-attr">position</span>: <span class="hljs-string">&#x27;absolute&#x27;</span>,<br>    <span class="hljs-attr">width</span>: <span class="hljs-number">200</span>,<br>    <span class="hljs-attr">height</span>: <span class="hljs-number">200</span>,<br>    <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">&#x27;green&#x27;</span>,<br>    <span class="hljs-attr">left</span>: <span class="hljs-number">30</span>,<br>    <span class="hljs-attr">top</span>: <span class="hljs-number">90</span>,<br>  &#125;,<br>  <span class="hljs-attr">box2</span>: &#123;<br>    <span class="hljs-attr">position</span>: <span class="hljs-string">&#x27;absolute&#x27;</span>,<br>    <span class="hljs-attr">width</span>: <span class="hljs-number">150</span>,<br>    <span class="hljs-attr">height</span>: <span class="hljs-number">150</span>,<br>    <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">&#x27;red&#x27;</span>,<br>    <span class="hljs-attr">left</span>: <span class="hljs-number">30</span>,<br>    <span class="hljs-attr">top</span>: <span class="hljs-number">50</span>,<br>  &#125;,<br>  <span class="hljs-attr">box3</span>: &#123;<br>    <span class="hljs-attr">position</span>: <span class="hljs-string">&#x27;absolute&#x27;</span>,<br>    <span class="hljs-attr">width</span>: <span class="hljs-number">90</span>,<br>    <span class="hljs-attr">height</span>: <span class="hljs-number">90</span>,<br>    <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">&#x27;blue&#x27;</span>,<br>    <span class="hljs-attr">left</span>: <span class="hljs-number">30</span>,<br>    <span class="hljs-attr">top</span>: <span class="hljs-number">50</span>,<br>  &#125;,<br>&#125;);<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Index</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">clickBox</span>(<span class="hljs-params">index</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;box&#x27;</span> + index);<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;styles.container&#125;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">TouchableHighlight</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> this.clickBox(&#x27;1&#x27;)&#125;&gt;</span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;styles.box1&#125;</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">TouchableHighlight</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> this.clickBox(&#x27;2&#x27;)&#125;&gt;</span><br><span class="language-xml">              <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;styles.box2&#125;</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">TouchableHighlight</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> this.clickBox(&#x27;3&#x27;)&#125;&gt;</span><br><span class="language-xml">                  <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;styles.box3&#125;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">TouchableHighlight</span>&gt;</span></span><br><span class="language-xml">              <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">TouchableHighlight</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">TouchableHighlight</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>


<p>　　正常我们点击每个box都会触发对应的onPress事件；但是如果我们不想触发子元素box2和box3的事件，我们可以添加<code>pointerEvents:none</code>：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx">&lt;<span class="hljs-title class_">View</span> style=&#123;styles.<span class="hljs-property">box2</span>&#125; pointerEvents=&#123;<span class="hljs-string">&#x27;none&#x27;</span>&#125;&gt;<br>&lt;/<span class="hljs-title class_">View</span>&gt;<br></code></pre></div></td></tr></table></figure>

<script>if(window.location.hostname.indexOf("xieyufei.com") === -1){ window.location.href = "https://xieyufei.com" }</script>
<p><img src="/images/React-Native-Component/pointerEvents.gif" srcset="/img/loading.gif" lazyload alt="pointerEvents none"></p>
<p>　　我们看到元素pointerEvents设置为none后，其元素本身及子元素均已不能触发事件了。</p>
<h3 id="Text"><a href="#Text" class="headerlink" title="Text"></a>Text</h3><p>　　<code>Text组件</code>之前介绍过主要用来显示文字；我们经常需要对Text中超过多少行显示省略号，不能使用css中的<code>text-overflow: ellipsis</code>，而是使用Text的<code>numberOfLines</code>属性来进行文本行数的限制显示：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx">&lt;<span class="hljs-title class_">Text</span> numberOfLines=&#123;<span class="hljs-number">2</span>&#125; ellipsizeMode=&#123;<span class="hljs-string">&#x27;tail&#x27;</span>&#125;&gt;<br>  很多很多的文本内容<br>&lt;/<span class="hljs-title class_">Text</span>&gt;<br></code></pre></div></td></tr></table></figure>

<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>
<p>　　Text组件的样式和web端也有一定的区别，我们通常在html指定整个文档默认的字体、字号及颜色：</p>
<figure class="highlight css"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs css"><span class="hljs-comment">/* css代码 */</span><br><span class="hljs-selector-tag">html</span>&#123;<br>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;<br>  <span class="hljs-attribute">color</span>: <span class="hljs-string">&#x27;#333&#x27;</span>;<br>  <span class="hljs-attribute">font-family</span>: Arial, SimSun, Helvetica, sans-serif;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<script>if(window.location.hostname.indexOf("xieyufei.com") === -1){ window.location.href = "https://xieyufei.com" }</script>

<p>　　这样我们对某些div、span中的文字，如果没有指定颜色大小，浏览器就会一路向上查找到根节点html，然后继承它的样式；这样导致的问题就是任何节点都会有font-size属性，RN摒弃了样式继承，推荐使用包含相关样式的组件，然后重复使用这个组件：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx">&lt;<span class="hljs-title class_">View</span>&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">MyNavHeaderText</span>&gt;</span>导航标题<span class="hljs-tag">&lt;/<span class="hljs-name">MyNavHeaderText</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">MyBodyText</span>&gt;</span>文本内容1<span class="hljs-tag">&lt;/<span class="hljs-name">MyBodyText</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">MyBodyText</span>&gt;</span>文本内容2<span class="hljs-tag">&lt;/<span class="hljs-name">MyBodyText</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">MyFooterText</span>&gt;</span>页脚内容<span class="hljs-tag">&lt;/<span class="hljs-name">MyFooterText</span>&gt;</span></span><br>&lt;/<span class="hljs-title class_">View</span>&gt;<br></code></pre></div></td></tr></table></figure>

<p>　　我们在定义MyBodyText组件时，可以把它的内容放到Text中：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyBodyText</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span>&#123;<br> <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span> <span class="hljs-attr">fontSize:</span> <span class="hljs-attr">20</span> &#125;&#125;&gt;</span></span><br><span class="language-xml">        &#123;this.props.children&#125;</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span><br>    )<br> &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>　　在Text组件上我们可以绑定点击事件onPress</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyBodyText</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span>&#123;<br>  onClick = <span class="hljs-function">()=&gt;</span>&#123;&#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">&#123;this.onClick&#125;</span>&gt;</span></span><br><span class="language-xml">        &#123;this.props.children&#125;</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span><br>    )<br> &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>
<h3 id="Image"><a href="#Image" class="headerlink" title="Image"></a>Image</h3><p>　　在<a href="https://xieyufei.com/2021/10/26/React-Native-Style.html">深入学习RN样式布局</a>我们已经介绍了<code>Image组件</code>通过source属性来加载本地图片或者网络，这里不再赘述了。</p>
<p>　　RN也支持对网络图片进行<code>缓存</code>，访问过一次的图片，在一定时间内会缓存到手机中，当需要再次显示的时候，RN会直接从缓存读取；在Android平台，图片会缓存到本地；对于iOS平台，可以通过cache属性实现不同缓存效果：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx">&lt;<span class="hljs-title class_">Image</span><br>  source=&#123;&#123;<br>    <span class="hljs-attr">uri</span>: <span class="hljs-string">&#x27;https://xieyufei.com/img/bg_small.jpg&#x27;</span>,<br>    <span class="hljs-attr">cache</span>: <span class="hljs-string">&#x27;only-if-cached&#x27;</span>,<br>  &#125;&#125;<br>  style=&#123;&#123;<span class="hljs-attr">width</span>: <span class="hljs-number">400</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">400</span>&#125;&#125;<br>/&gt;<br></code></pre></div></td></tr></table></figure>

<script>if(window.location.hostname.indexOf("xieyufei.com") === -1){ window.location.href = "https://xieyufei.com" }</script>
<p>　　cache属性可以取以下值：</p>
<ul>
<li>default：使用原生平台默认策略</li>
<li>reload：不使用现有的缓存数据</li>
<li>force-cache：现有的缓存数据将用于满足请求，忽略其期限或到期日。如果缓存中没有对应请求的数据，则从原始地址加载。</li>
<li>only-if-cached：现有的缓存数据将用于满足请求，忽略其期限或到期日。如果缓存中没有对应请求的数据，则不尝试从原始地址加载，并且认为请求是失败的。</li>
</ul>
<p>　　RN还提供了一个<code>统一的方式</code>来管理iOS和Android中的图片，我们首先给两个平台分别创建好两张不同的图片：</p>
<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>
<figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus">├── <span class="hljs-selector-tag">button</span><span class="hljs-selector-class">.js</span><br>└── <span class="hljs-selector-tag">img</span><br>    ├── logo<span class="hljs-selector-class">.jpg</span><br>    ├── logo<span class="hljs-selector-class">.android</span><span class="hljs-selector-class">.jpg</span><br>    └── logo<span class="hljs-selector-class">.ios</span>.jpg<br></code></pre></div></td></tr></table></figure>

<p>　　在我们的代码中，只需要引用logo.jpg图片，RN就会根据平台而选择不同的图片文件：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx">&lt;<span class="hljs-title class_">Image</span><br>    style=&#123;&#123;<span class="hljs-attr">width</span>: <span class="hljs-number">360</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">144</span>&#125;&#125;<br>    source=&#123;<span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./img/logo.jpg&#x27;</span>)&#125;&gt;&lt;/<span class="hljs-title class_">Image</span>&gt;<br></code></pre></div></td></tr></table></figure>

<script>if(window.location.hostname.indexOf("xieyufei.com") === -1){ window.location.href = "https://xieyufei.com" }</script>
<p><img src="/images/React-Native-Component/android.png" srcset="/img/loading.gif" lazyload alt="Android图片展示"></p>
<p><img src="/images/React-Native-Component/ios.png" srcset="/img/loading.gif" lazyload alt="iOS图片展示"></p>
<p>　　我们看到不同平台展示了对应logo图片；除此之外我们还可以使用<code>@2x</code>，<code>@3x</code>这样的文件名后缀，来为不同的屏幕精度提供图片。</p>
<p>　　我们经常会遇到文字嵌套背景图片的情况，除了使用Image组件进行绝对布局外，RN还提供了<code>ImageBackground</code>组件，它的参数和Image组件完全相同，只需要把子组件嵌套即可：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx">&lt;<span class="hljs-title class_">ImageBackground</span><br>    style=&#123;&#123;<span class="hljs-attr">width</span>: <span class="hljs-number">360</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">144</span>&#125;&#125;<br>    source=&#123;<span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./img/logo.jpg&#x27;</span>)&#125;&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>我是图片的描述文案<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span><br>&lt;/<span class="hljs-title class_">ImageBackground</span>&gt;<br></code></pre></div></td></tr></table></figure>

<h3 id="TextInput"><a href="#TextInput" class="headerlink" title="TextInput"></a>TextInput</h3><p>　　<code>TextInput组件</code>是一个允许用户在应用中通过键盘输入文本内容的组件；它接收一个<code>value</code>属性作为输入的默认值，当文本框内容变化时回调<code>onChange</code>函数：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Index</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">super</span>();<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = &#123;<br>      <span class="hljs-attr">value</span>: <span class="hljs-string">&#x27;&#x27;</span>,<br>    &#125;;<br>  &#125;<br>  onChangeText = <span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;<br>      value,<br>    &#125;);<br>  &#125;;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">TextInput</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">value</span>=<span class="hljs-string">&#123;this.state.value&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">onChange</span>=<span class="hljs-string">&#123;val</span> =&gt;</span> this.onChangeText(val)&#125;&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">TextInput</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>
<p>　　和web端的input一样，TextInput同样也支持设置占位符的文字<code>placeholder</code>，同时还能直接设置占位符的色值：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx">&lt;<span class="hljs-title class_">TextInput</span><br>  placeholder=<span class="hljs-string">&quot;请输入&quot;</span><br>  placeholderTextColor=<span class="hljs-string">&quot;#999&quot;</span>&gt;&lt;/<span class="hljs-title class_">TextInput</span>&gt;<br></code></pre></div></td></tr></table></figure>

<p>　　我们在不同的场景下经常能看到弹出不同键盘类型，比如输入密码、数字、邮箱等，我们通过<code>keyboardType</code>属性来设置:</p>
<ul>
<li>default</li>
<li>number-pad</li>
<li>decimal-pad</li>
<script>if(window.location.hostname.indexOf("xieyufei.com") === -1){ window.location.href = "https://xieyufei.com" }</script>
<li>numeric</li>
<li>email-address</li>
<li>phone-pad</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx">&lt;<span class="hljs-title class_">View</span> style=&#123;styles.<span class="hljs-property">container</span>&#125;&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">TextInput</span></span></span><br><span class="hljs-tag"><span class="language-xml">    <span class="hljs-attr">keyboardType</span>=<span class="hljs-string">&quot;number-pad&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">TextInput</span>&gt;</span></span><br>&lt;/<span class="hljs-title class_">View</span>&gt;<br></code></pre></div></td></tr></table></figure>

<p><img src="/images/React-Native-Component/number-pad.gif" srcset="/img/loading.gif" lazyload alt="number-pad键盘"></p>
<p>　　也可以设置为<code>email-address</code>，输入邮箱，我们看下效果：</p>
<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>
<p><img src="/images/React-Native-Component/email-address.gif" srcset="/img/loading.gif" lazyload alt="email-address键盘"></p>
<p>　　有一些特殊的值仅iOS下可用：</p>
<ul>
<li>ascii-capable</li>
<li>numbers-and-punctuation</li>
<li>url</li>
<li>name-phone-pad</li>
<script>if(window.location.hostname.indexOf("xieyufei.com") === -1){ window.location.href = "https://xieyufei.com" }</script>
<li>twitter</li>
<li>web-search</li>
</ul>
<p>　　我们看下url的效果：</p>
<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>
<p><img src="/images/React-Native-Component/url.gif" srcset="/img/loading.gif" lazyload alt="url键盘"></p>
<p>　　在电商应用中我们经常会遇到填写收货地址、说明信息等多行文本，我们可以设置<code>multiline</code>为true，同时安卓上文本默认会垂直居中，我们可以添加<code>textAlignVertical: &#39;top&#39;</code>的样式：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx">&lt;<span class="hljs-title class_">TextInput</span><br>  style=&#123;&#123;<br>    <span class="hljs-attr">width</span>: <span class="hljs-number">300</span>,<br>    <span class="hljs-attr">height</span>: <span class="hljs-number">120</span>,<br>    <span class="hljs-attr">textAlignVertical</span>: <span class="hljs-string">&#x27;top&#x27;</span>&#125;&#125;<br>  multiline=&#123;<span class="hljs-literal">true</span>&#125;&gt;&lt;/<span class="hljs-title class_">TextInput</span>&gt;<br></code></pre></div></td></tr></table></figure>

<p><img src="/images/React-Native-Component/multiline.gif" srcset="/img/loading.gif" lazyload alt="多行文本"></p>
<p>　　在登录页面中，我们需要将输入后的密码进行遮挡，确保我们录入信息的安全，可以使用<code>secureTextEntry</code>属性：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx">&lt;<span class="hljs-title class_">TextInput</span><br>  secureTextEntry=&#123;<span class="hljs-literal">true</span>&#125;&gt;&lt;/<span class="hljs-title class_">TextInput</span>&gt;<br></code></pre></div></td></tr></table></figure>
<script>if(window.location.hostname.indexOf("xieyufei.com") === -1){ window.location.href = "https://xieyufei.com" }</script>

<p>　　该属性在<code>multiline=&#123;true&#125;</code>时不可使用，我们看下密码遮挡的效果：</p>
<p><img src="/images/React-Native-Component/password.gif" srcset="/img/loading.gif" lazyload alt="密码输入"></p>
<p>　　我们在iOS上经常会遇到输入框首字符大写的情况，通过<code>autoCapitalize</code>属性可以自动将特定字符切换为大写：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx">&lt;<span class="hljs-title class_">TextInput</span><br>  autoCapitalize=<span class="hljs-string">&quot;sentences&quot;</span>&gt;&lt;/<span class="hljs-title class_">TextInput</span>&gt;<br></code></pre></div></td></tr></table></figure>

<p>　　它有下面几个枚举值：</p>
<ul>
<li>sentences：每句话的第一个字符（默认）。</li>
<li>characters：所有的字符。</li>
<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>
<li>words：每个单词的第一个字符。</li>
<li>none：不切换。</li>
</ul>
<p>　　我们看下不同枚举值的效果：</p>
<p><img src="/images/React-Native-Component/capitalize.gif" srcset="/img/loading.gif" lazyload alt="首字符大写切换"></p>
<h3 id="ScrollView"><a href="#ScrollView" class="headerlink" title="ScrollView"></a>ScrollView</h3><p>　　<code>ScrollView组件</code>是用来当屏幕宽度或者高度不足以展示所有内容时进行滚动展示的组件，它的用法和View类似，但是必须有一个确定的高度，或者使用<code>flex:1</code>来让它填充整个屏幕：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx">&lt;<span class="hljs-title class_">View</span>&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ScrollView</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;flex:</span> <span class="hljs-attr">1</span>&#125;&#125;&gt;</span></span><br><span class="language-xml">    &#123;this.state.list.map((item, index) =&gt; &#123;</span><br><span class="language-xml">      return (</span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;index&#125;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;height:</span> <span class="hljs-attr">50</span>&#125;&#125;&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>scroll view &#123;item&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">      );</span><br><span class="language-xml">    &#125;)&#125;</span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">ScrollView</span>&gt;</span></span><br>&lt;/<span class="hljs-title class_">View</span>&gt;<br></code></pre></div></td></tr></table></figure>

<p>　　ScrollView所有的子元素就可以在垂直方向上滚动，我们看下效果：</p>
<script>if(window.location.hostname.indexOf("xieyufei.com") === -1){ window.location.href = "https://xieyufei.com" }</script>
<p><img src="/images/React-Native-Component/scrollView.gif" srcset="/img/loading.gif" lazyload alt="ScrollView"></p>
<p>　　通过<code>horizontal</code>属性，我们可以设置子元素在水平方向上排成一行进行滚动：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx">&lt;<span class="hljs-title class_">View</span>&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ScrollView</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;flex:</span> <span class="hljs-attr">1</span>&#125;&#125; <span class="hljs-attr">horizontal</span>=<span class="hljs-string">&#123;true&#125;</span>&gt;</span></span><br><span class="language-xml">  // ...</span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">ScrollView</span>&gt;</span></span><br>&lt;/<span class="hljs-title class_">View</span>&gt;<br></code></pre></div></td></tr></table></figure>

<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>

<p><img src="/images/React-Native-Component/horizontal.gif" srcset="/img/loading.gif" lazyload alt="ScrollView水平滚动"></p>
<h2 id="交互组件"><a href="#交互组件" class="headerlink" title="交互组件"></a>交互组件</h2><h3 id="Button"><a href="#Button" class="headerlink" title="Button"></a>Button</h3><p>　　<code>Button组件</code>在很多UI库中也都有封装，像Element的el-button，AntDesign的a-button，在一些表单提交或者需要触发事件时使用。RN中Button有两个重要的props，title展示按钮的文字和onPress触发点击事件：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Index</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  onClick = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;click&#x27;</span>);<br>  &#125;;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> &gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;我是一个按钮&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">onPress</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> this.onClick()&#125;&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>　　我们发现Button组件在Android和iOS上的表现形式有些区别：</p>
<p><img src="/images/React-Native-Component/button.png" srcset="/img/loading.gif" lazyload alt="Button组件"></p>
<p>　　Button的<code>color属性</code>可以改变按钮的颜色，在Android下改变背景色，iOS改变文本颜色：</p>
<script>if(window.location.hostname.indexOf("xieyufei.com") === -1){ window.location.href = "https://xieyufei.com" }</script>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx">&lt;<span class="hljs-title class_">Button</span><br>  color=<span class="hljs-string">&quot;red&quot;</span><br>  title=<span class="hljs-string">&quot;我是一个按钮&quot;</span><br>  onPress=&#123;<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">onClick</span>()&#125;&gt;&lt;/<span class="hljs-title class_">Button</span>&gt;<br></code></pre></div></td></tr></table></figure>

<p><img src="/images/React-Native-Component/button1.png" srcset="/img/loading.gif" lazyload alt="带color的Button组件"></p>
<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>
<p>　　由于Button在不同平台的表现形式不一样，因此我们经常会使用View和Text封装自己的Button组件，或者使用社区组件，比如<code>react-native-button</code>或者<code>react-native-elements</code>的Button。</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Button</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-native-button&#x27;</span>;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Index</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  onClick = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;click&#x27;</span>);<br>  &#125;;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> &gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span></span></span><br><span class="hljs-tag"><span class="language-xml">            <span class="hljs-attr">fontSize:</span> <span class="hljs-attr">20</span>,</span></span><br><span class="hljs-tag"><span class="language-xml">            <span class="hljs-attr">color:</span> &#x27;<span class="hljs-attr">green</span>&#x27;,</span></span><br><span class="hljs-tag"><span class="language-xml">            <span class="hljs-attr">width:</span> <span class="hljs-attr">200</span>,</span></span><br><span class="hljs-tag"><span class="language-xml">            <span class="hljs-attr">height:</span> <span class="hljs-attr">300</span>,</span></span><br><span class="hljs-tag"><span class="language-xml">            <span class="hljs-attr">backgroundColor:</span> &#x27;<span class="hljs-attr">red</span>&#x27;,</span></span><br><span class="hljs-tag"><span class="language-xml">            <span class="hljs-attr">borderRadius:</span> <span class="hljs-attr">4</span>,</span></span><br><span class="hljs-tag"><span class="language-xml">          &#125;&#125;</span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">onPress</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> this.onClick()&#125;&gt;</span><br><span class="language-xml">          Press Me!</span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>


<h3 id="Switch"><a href="#Switch" class="headerlink" title="Switch"></a>Switch</h3><p>　　<code>Switch组件</code>是一个跨平台通用的“开关”组件，在应用中很多时候会使用一个开关组件来控制某些功能是否开启；它提供的属性不多，value属性用来设置组件当前的值，onValueChange接收一个函数，当组件的值改变时调用此回调函数，回调函数的参数为组件新的值：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Index</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">super</span>();<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = &#123;<br>      <span class="hljs-attr">isEnabled</span>: <span class="hljs-literal">true</span>,<br>    &#125;;<br>  &#125;<br>  onClickSwitch = <span class="hljs-function">(<span class="hljs-params">val</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;<br>      <span class="hljs-attr">isEnabled</span>: val,<br>    &#125;);<br>  &#125;;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Switch</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">value</span>=<span class="hljs-string">&#123;this.state.isEnabled&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">onValueChange</span>=<span class="hljs-string">&#123;(val)</span> =&gt;</span> this.onClickSwitch(val)&#125;&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">Switch</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>&#123;JSON.stringify(this.state.isEnabled)&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>　　我们看下switch组件的效果：</p>
<p><img src="/images/React-Native-Component/switch.gif" srcset="/img/loading.gif" lazyload alt="Switch组件"></p>
<p>　　switch组件还可以改变颜色，支持以下三种属性：</p>
<script>if(window.location.hostname.indexOf("xieyufei.com") === -1){ window.location.href = "https://xieyufei.com" }</script>
<ul>
<li>thumbColor：开关上圆形按钮的背景颜色。在 iOS 上设置此颜色会丢失按钮的投影效果。</li>
<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>
<li>trackColor：关闭状态时的边框颜色(iOS)或背景颜色(Android)。</li>
<li>ios_backgroundColor：iOS下，自定义的背景颜色。</li>
</ul>
<p>　　我们给三个不同属性设置不同颜色，不要问我为什么选红和蓝，问就是自古红蓝出CP：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx">&lt;<span class="hljs-title class_">Switch</span><br>  thumbColor=&#123;<span class="hljs-string">&#x27;blue&#x27;</span>&#125;<br>  trackColor=&#123;<span class="hljs-string">&#x27;red&#x27;</span>&#125;<br>  ios_backgroundColor=&#123;<span class="hljs-string">&#x27;yellow&#x27;</span>&#125;<br>  value=&#123;<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">isEnabled</span>&#125;<br>  onValueChange=&#123;<span class="hljs-function"><span class="hljs-params">val</span> =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">onClickSwitch</span>(val)&#125;&gt;&lt;/<span class="hljs-title class_">Switch</span>&gt;<br></code></pre></div></td></tr></table></figure>

<p>　　我们看到thumbColor和ios_backgroundColor在iOS平台能够支持，但是trackColor表现的不是很明显：</p>
<p><img src="/images/React-Native-Component/switch-color.gif" srcset="/img/loading.gif" lazyload alt="iOS下Switch组件"></p>
<p>　　在安卓平台就只能看到thumbColor的效果：</p>
<script>if(window.location.hostname.indexOf("xieyufei.com") === -1){ window.location.href = "https://xieyufei.com" }</script>
<p><img src="/images/React-Native-Component/switch-color-android.gif" srcset="/img/loading.gif" lazyload alt="安卓下Switch组件"></p>
<h3 id="Slider"><a href="#Slider" class="headerlink" title="Slider"></a>Slider</h3><p>　　官方的<code>Slider组件</code>已经废弃，推荐安装使用社区的Slider：</p>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">yarn add @react-native-community/slider<br><span class="hljs-comment"># or</span><br>npm install @react-native-community/slider --save<br></code></pre></div></td></tr></table></figure>


<p>　　如果在iOS，还需要在ios目录下运行<code>pod install</code>；Slider组件也是value属性设置进度，onValueChange值的回调函数：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Slider</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@react-native-community/slider&#x27;</span>;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Index</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">super</span>();<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = &#123;<br>      <span class="hljs-attr">slider</span>: <span class="hljs-number">0</span>,<br>    &#125;;<br>  &#125;<br>  onChangeSlider1 = <span class="hljs-function"><span class="hljs-params">val</span> =&gt;</span> &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;<br>      <span class="hljs-attr">slider</span>: val,<br>    &#125;);<br>  &#125;;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Slider</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">value</span>=<span class="hljs-string">&#123;this.state.slider&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">minimumValue</span>=<span class="hljs-string">&#123;0&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">maximumValue</span>=<span class="hljs-string">&#123;1&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">minimumTrackTintColor</span>=<span class="hljs-string">&quot;#f0f0f0&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">maximumTrackTintColor</span>=<span class="hljs-string">&quot;#000000&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">onValueChange</span>=<span class="hljs-string">&#123;val</span> =&gt;</span> this.onChangeSlider(val)&#125;</span><br><span class="language-xml">    /&gt;</span><br>    )<br>  &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>　　如果我们需要固定的几个值，可以使用<code>step</code>进行步进设置，step的值必须是在<code>minimumValue</code>和<code>maximumValue</code>范围之内的：</p>
<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx">&lt;<span class="hljs-title class_">Slider</span><br>  value=&#123;<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">slider</span>&#125;<br>  step=&#123;<span class="hljs-number">2</span>&#125;<br>  minimumValue=&#123;<span class="hljs-number">0</span>&#125;<br>  maximumValue=&#123;<span class="hljs-number">10</span>&#125;<br>  onValueChange=&#123;<span class="hljs-function"><span class="hljs-params">val</span> =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">onChangeSlider2</span>(val)&#125;<br>/&gt;<br></code></pre></div></td></tr></table></figure>

<p>　　Slider还支持<code>tapToSeek</code>属性，允许点击滑块轨迹来设置值，这个值默认为false，在安卓上没有影响：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx">&lt;<span class="hljs-title class_">Slider</span><br>  tapToSeek=&#123;<span class="hljs-literal">true</span>&#125;<br>  step=&#123;<span class="hljs-number">2</span>&#125;<br>  minimumValue=&#123;<span class="hljs-number">0</span>&#125;<br>  maximumValue=&#123;<span class="hljs-number">10</span>&#125;<br>/&gt;<br></code></pre></div></td></tr></table></figure>

<p>　　我们看下Slider几个属性的效果：</p>
<script>if(window.location.hostname.indexOf("xieyufei.com") === -1){ window.location.href = "https://xieyufei.com" }</script>
<p><img src="/images/React-Native-Component/slider.gif" srcset="/img/loading.gif" lazyload alt="Slider"></p>
<h2 id="列表组件"><a href="#列表组件" class="headerlink" title="列表组件"></a>列表组件</h2><h3 id="FlatList"><a href="#FlatList" class="headerlink" title="FlatList"></a>FlatList</h3><p>　　<code>FlatList组件</code>是一个高性能的列表组件；我们前面说到，ScrollView也是一个滚动展示的组件，那么两者有什么区别呢？我们通过ScrollView的用法也能看出来，它会简单粗暴地把所有子元素一次性全部渲染出来；如果列表数据量小进行展示没有问题，但是如果一次性展示好几屏的数据，那么创建和渲染都会造成性能的浪费。</p>
<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>
<p>　　而FlatList会惰性的渲染子元素，只在它们将要出现在屏幕中时开始渲染。除了高性能，FlatList还支持以下功能：</p>
<ul>
<li>完全跨平台。</li>
<li>支持水平布局模式。</li>
<li>行组件显示或隐藏时可配置回调事件。</li>
<li>支持单独的头部组件。</li>
<script>if(window.location.hostname.indexOf("xieyufei.com") === -1){ window.location.href = "https://xieyufei.com" }</script>
<li>支持单独的尾部组件。</li>
<li>支持自定义行间分隔线。</li>
<li>支持下拉刷新。</li>
<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>
<li>支持上拉加载。</li>
<li>支持跳转到指定行（ScrollToIndex）。</li>
<li>支持多列布局。</li>
</ul>
<p>　　FlatList组件必须的两个属性是<code>data</code>和<code>renderItem</code>，data是列表的数据源，接收一个数组数据；renderItem则从数据源中逐个解析数据，然后回调一个渲染组件格式给FlatList进行渲染：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Index</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">FlatList</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">data</span>=<span class="hljs-string">&#123;[</span></span></span><br><span class="hljs-tag"><span class="language-xml">            &#123;<span class="hljs-attr">key:</span> &#x27;<span class="hljs-attr">Devin</span>&#x27;&#125;,</span></span><br><span class="hljs-tag"><span class="language-xml">            &#123;<span class="hljs-attr">key:</span> &#x27;<span class="hljs-attr">Jackson</span>&#x27;&#125;,</span></span><br><span class="hljs-tag"><span class="language-xml">            &#123;<span class="hljs-attr">key:</span> &#x27;<span class="hljs-attr">James</span>&#x27;&#125;]&#125;</span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">keyExtractor</span>=<span class="hljs-string">&#123;item</span> =&gt;</span> item.key&#125;</span><br><span class="language-xml">          renderItem=&#123;(&#123;item&#125;) =&gt; (</span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;height:</span> <span class="hljs-attr">50</span>&#125;&#125;&gt;</span></span><br><span class="language-xml">              <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>&#123;item.key&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">          )&#125;&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">FlatList</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<script>if(window.location.hostname.indexOf("xieyufei.com") === -1){ window.location.href = "https://xieyufei.com" }</script>
<p>　　为了渲染的唯一性，我们还需要设置<code>keyExtractor</code>属性，指定item的key作为列表每一项的唯一标识；然后我们看下它的下拉刷新功能，如果设置了<code>onRefresh</code>事件，会在列表头部添加一个标准的RefreshControl控件，我们下拉时就会触发onRefresh回调：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Index</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">super</span>();<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = &#123;<br>      <span class="hljs-attr">isLoading</span>: <span class="hljs-literal">false</span>,<br>    &#125;;<br>  &#125;<br>  <span class="hljs-comment">// 下拉刷新</span><br>  loadData = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;<br>      <span class="hljs-attr">isLoading</span>: <span class="hljs-literal">true</span>,<br>    &#125;);<br>    <span class="hljs-comment">// 模拟请求数据</span><br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;<br>        <span class="hljs-attr">isLoading</span>: <span class="hljs-literal">false</span>,<br>      &#125;);<br>    &#125;, <span class="hljs-number">1500</span>);<br>  &#125;;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">FlatList</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">data</span>=<span class="hljs-string">&#123;[...]&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">refreshing</span>=<span class="hljs-string">&#123;this.state.isLoading&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">onRefresh</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> &#123;</span><br><span class="language-xml">            //下拉刷新加载数据</span><br><span class="language-xml">              this.loadData(); </span><br><span class="language-xml">            &#125;&#125;&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">FlatList</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>　　上拉加载的处理相对比较简单了，当列表被滚动到距离内容最底部不足<code>onEndReachedThreshold</code>属性的距离时，调用<code>onEndReached</code>回调：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Index</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-comment">// 加载更多数据</span><br>  loadMoreData = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-comment">// 请求接口，向data中添加数据</span><br>  &#125;;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">FlatList</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">data</span>=<span class="hljs-string">&#123;[...]&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">onEndReachedThreshold</span>=<span class="hljs-string">&#123;10&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">onEndReached</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> &#123;</span><br><span class="language-xml">            // 上拉加载</span><br><span class="language-xml">            this.loadMoreData()</span><br><span class="language-xml">          &#125;&#125;&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">FlatList</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>　　这样上拉加载后，如果数据请求完成，列表底部会突然一下多出很多数据，就很突然。</p>
<p><img src="/images/React-Native-Component/sudden.gif" srcset="/img/loading.gif" lazyload alt="很突然"></p>
<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>
<p>　　我们可以用<code>ListFooterComponent</code>属性在列表底部渲染一个加载中的loading进行提示：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Index</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">super</span>();<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = &#123;<br>      <span class="hljs-comment">// 正在加载更多数据</span><br>      <span class="hljs-attr">isMoreData</span>: <span class="hljs-literal">false</span>,<br>    &#125;;<br>  &#125;<br>  renderLoadMoreView = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">        &#123;this.state.isMoreData ? (</span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>正在加载更多...<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span><br><span class="language-xml">        ) : (<span class="hljs-tag">&lt;&gt;</span><span class="hljs-tag">&lt;/&gt;</span></span>)&#125;<br>      &lt;/<span class="hljs-title class_">View</span>&gt;<br>    );<br>  &#125;;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">FlatList</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">data</span>=<span class="hljs-string">&#123;[...]&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">ListFooterComponent</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> this.renderLoadMoreView()&#125;&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">FlatList</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>


<p>　　我们看下整个下拉刷新和上拉加载的效果：</p>
<p><img src="/images/React-Native-Component/flatlist.gif" srcset="/img/loading.gif" lazyload alt="FlatList"></p>
<p>　　通过<code>ItemSeparatorComponent</code>属性，我们可以在行与行之间渲染分割线，分割线不会出现在第一行之前和最后一行之后。</p>
<script>if(window.location.hostname.indexOf("xieyufei.com") === -1){ window.location.href = "https://xieyufei.com" }</script>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx">&lt;<span class="hljs-title class_">FlatList</span><br>  <span class="hljs-title class_">ItemSeparatorComponent</span>=&#123;<span class="hljs-function">() =&gt;</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">height:</span> <span class="hljs-attr">1</span>,</span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">backgroundColor:</span> &#x27;<span class="hljs-attr">red</span>&#x27;,</span></span><br><span class="hljs-tag"><span class="language-xml">      &#125;&#125;&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br>  )&#125;&gt;&lt;/<span class="hljs-title class_">FlatList</span>&gt;<br></code></pre></div></td></tr></table></figure>

<p>　　我们看下分割线的效果：</p>
<p><img src="/images/React-Native-Component/separator.png" srcset="/img/loading.gif" lazyload alt="分割线"></p>
<p>　　FlatList提供了多个scroll函数，可以用来滚动到对应的位置，我们来看下<code>scrollToIndex</code>的用法，这个函数用于滚动到对应的index的位置；首先我们需要通过<code>getItemLayout</code>属性告诉Flatlist整个列表的一些信息：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx">&lt;<span class="hljs-title class_">FlatList</span><br>  ref=&#123;<span class="hljs-variable language_">this</span>.<span class="hljs-property">flatListRef</span>&#125;<br>  getItemLayout=&#123;<span class="hljs-function">(<span class="hljs-params">data, index</span>) =&gt;</span> (&#123;<br>    <span class="hljs-attr">length</span>: <span class="hljs-variable constant_">ITEM_HEIGHT</span>,<br>    index,<br>    <span class="hljs-attr">offset</span>: <span class="hljs-variable constant_">ITEM_HEIGHT</span> * index,<br>  &#125;)&#125;&gt;&lt;/<span class="hljs-title class_">FlatList</span>&gt;<br></code></pre></div></td></tr></table></figure>

<p>　　getItemLayout属性是一个可选的优化属性，用于避免动态测量内容尺寸的开销，scrollToIndex函数调用时需要设置这个属性；这里的ITEM_HEIGHT表示整个item的行高，如果我们像上面一样使用了ItemSeparatorComponent属性，需要把<code>分割线的高度</code>也算在ITEM_HEIGHT里面，否则滚动的距离会有偏差。</p>
<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Index</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">super</span>();<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">flatListRef</span> = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createRef</span>();<br>  &#125;<br>  <span class="hljs-title function_">componentDidMount</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">flatListRef</span>.<span class="hljs-property">current</span>.<span class="hljs-title function_">scrollToIndex</span>(&#123;<br>        <span class="hljs-attr">index</span>: <span class="hljs-number">6</span>,<br>        <span class="hljs-attr">animated</span>: <span class="hljs-literal">true</span>,<br>      &#125;);<br>    &#125;, <span class="hljs-number">1000</span>);<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">FlatList</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">ref</span>=<span class="hljs-string">&#123;this.flatListRef&#125;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">FlatList</span>&gt;</span></span><br>  )<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>　　我们看下scrollToIndex的效果：</p>
<p><img src="/images/React-Native-Component/scrollToIndex.gif" srcset="/img/loading.gif" lazyload alt="scrollToIndex效果"></p>
<h3 id="SectionList"><a href="#SectionList" class="headerlink" title="SectionList"></a>SectionList</h3><p>　　<code>SectionList组件</code>和FlatList一样，都是列表组件，而且两者都是基于<code>VirtualizedList</code>进行封装的，不同的是SectionList有一个分组(section)的功能，类似于通讯录的功能，它支持下面功能：</p>
<ul>
<li>完全跨平台。</li>
<li>行组件显示或隐藏时可配置回调事件。</li>
<li>支持单独的头部组件。</li>
<li>支持单独的尾部组件。</li>
<script>if(window.location.hostname.indexOf("xieyufei.com") === -1){ window.location.href = "https://xieyufei.com" }</script>
<li>支持自定义行间分隔线。</li>
<li>支持分组的头部组件。</li>
<li>支持分组的分隔线。</li>
<li>支持多种数据源结构</li>
<li>支持下拉刷新。</li>
<li>支持上拉加载。</li>
</ul>
<p>　　SectionList的数据sections也是需要分组的，数据在每个分类的data数组中；SectionList还多了一个<code>renderSectionHeader</code>属性可以用来渲染section的头部：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">DATA</span> = [<br>  &#123;<br>    <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;A&#x27;</span>,<br>    <span class="hljs-attr">data</span>: [<span class="hljs-string">&#x27;A1&#x27;</span>],<br>  &#125;,<br>    &#123;<br>    <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;B&#x27;</span>,<br>    <span class="hljs-attr">data</span>: [<span class="hljs-string">&#x27;B1&#x27;</span>, <span class="hljs-string">&#x27;B2&#x27;</span>],<br>  &#125;,<br>]<br>&lt;<span class="hljs-title class_">SectionList</span><br>  sections=&#123;<span class="hljs-variable constant_">DATA</span>&#125;<br>  renderItem=&#123;<span class="hljs-function">(<span class="hljs-params">&#123;item&#125;</span>) =&gt;</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>&#123;item&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br>  )&#125;<br>  renderSectionHeader=&#123;<span class="hljs-function">(<span class="hljs-params">&#123;section: &#123;title&#125;&#125;</span>) =&gt;</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span></span><br><span class="language-xml">      &#123;title&#125;</span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span><br>  )&#125;&gt;&lt;/<span class="hljs-title class_">SectionList</span>&gt;<br></code></pre></div></td></tr></table></figure>

<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>
<p>　　在iOS上，每个section的头部会有吸顶的效果，Android上则没有该效果，我们看下SectionList效果：</p>
<p><img src="/images/React-Native-Component/section.gif" srcset="/img/loading.gif" lazyload alt="SectionList"></p>
<p>　　下拉刷新和上拉加载的功能和FlatList组件相同，这里就不再赘述了。</p>
<h3 id="VirtualizedList"><a href="#VirtualizedList" class="headerlink" title="VirtualizedList"></a>VirtualizedList</h3><p>　　<code>VirtualizedList</code>组件是<code>FlatList</code>和<code>SectionList</code>的底层实现；FlatList和SectionList使用起来更加的方便，如果这两个组件满足不了我们的需求，我们可以考虑VirtualizedList。</p>
<p>　　VirtualizedList在屏幕窗口维护了一个固定高度的渲染窗口，在渲染窗口之外的元素用固定高度的空白元素进行渲染，同时让这个窗口监听内部的滚动事件，当元素离渲染窗口距离太远了，优先级较低，当元素距离可视区较近时，就自动获得了一个较高的渲染等级，通过这种方式逐步渲染；极大改善了渲染大批量数据时的内存消耗和使用性能。</p>
<p><img src="/images/React-Native-Component/virtual-list.jpg" srcset="/img/loading.gif" lazyload alt="虚拟列表"></p>
<p>　　它有下面几个必传的属性：</p>
<ul>
<li>data：渲染数据</li>
<script>if(window.location.hostname.indexOf("xieyufei.com") === -1){ window.location.href = "https://xieyufei.com" }</script>
<li>renderItem：根据行数据 data 渲染每一行的组件</li>
<li>getItem：通用的获取器，用来从任意类型的数据块中获取一个元素。</li>
<li>getItemCount：用来决定数据块中一共有多少元素。</li>
</ul>
<p>　　<code>getItem</code>属性是VirtualizedList特有的属性，它接收列表数据和对应的index，我们可以对列表中相应的数据进行处理然后返回出一个元素给到renderItem进行渲染：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">DATA</span> = [];<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> index = <span class="hljs-number">0</span>; index &lt; <span class="hljs-number">50</span>; index++) &#123;<br>  <span class="hljs-variable constant_">DATA</span>.<span class="hljs-title function_">push</span>(&#123;<span class="hljs-attr">key</span>: <span class="hljs-string">&#x27;&#x27;</span> + index, <span class="hljs-attr">label</span>: <span class="hljs-string">&#x27;&#x27;</span> + index&#125;);<br>&#125;<br><span class="hljs-keyword">const</span> <span class="hljs-title function_">VirtualizedListComponent</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;styles.container&#125;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">VirtualizedList</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">data</span>=<span class="hljs-string">&#123;DATA&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">getItemCount</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> DATA.length&#125;</span><br><span class="language-xml">        renderItem=&#123;(&#123;item, index&#125;) =&gt; &#123;</span><br><span class="language-xml">          return (</span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">              <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>&#123;item.title&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">          );</span><br><span class="language-xml">        &#125;&#125;</span><br><span class="language-xml">        getItem=&#123;(list, index) =&gt; &#123;</span><br><span class="language-xml">          const item = list[index];</span><br><span class="language-xml">          return &#123;</span><br><span class="language-xml">            id: item.key,</span><br><span class="language-xml">            title: item.label,</span><br><span class="language-xml">          &#125;;</span><br><span class="language-xml">        &#125;&#125;</span><br><span class="language-xml">        keyExtractor=&#123;item =&gt; item.key&#125;&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">VirtualizedList</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br>  );<br>&#125;;<br></code></pre></div></td></tr></table></figure>
<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>

<p>　　其他的属性和FlatList、SectionList基本相同，这里不再赘述了。</p>
<h2 id="其他组件"><a href="#其他组件" class="headerlink" title="其他组件"></a>其他组件</h2><h3 id="ActivityIndicator"><a href="#ActivityIndicator" class="headerlink" title="ActivityIndicator"></a>ActivityIndicator</h3><p>　　<code>ActivityIndicator</code>组件用于显示一个圆形的<code>loading</code>提示符号，它有下面几个属性：</p>
<script>if(window.location.hostname.indexOf("xieyufei.com") === -1){ window.location.href = "https://xieyufei.com" }</script>
<ul>
<li>color：提示符的前景颜色，iOS上默认是<code>#999</code></li>
<li>size：指示器的大小，默认为’small’，还可设为large。</li>
<li>animating：是否要显示指示器动画，默认为 true 表示显示，false 则隐藏。</li>
<li>hidesWhenStopped(iOS)：在animating为false的时候，是否要隐藏指示器</li>
<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx">&lt;<span class="hljs-title class_">ActivityIndicator</span> /&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ActivityIndicator</span> <span class="hljs-attr">size</span>=<span class="hljs-string">&quot;large&quot;</span> /&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ActivityIndicator</span> <span class="hljs-attr">color</span>=<span class="hljs-string">&quot;#0000ff&quot;</span> /&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ActivityIndicator</span> <span class="hljs-attr">animating</span>=<span class="hljs-string">&#123;false&#125;</span> /&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ActivityIndicator</span> <span class="hljs-attr">animating</span>=<span class="hljs-string">&#123;false&#125;</span> </span></span><br><span class="hljs-tag"><span class="language-xml">                  <span class="hljs-attr">hidesWhenStopped</span>=<span class="hljs-string">&#123;false&#125;</span> /&gt;</span></span><br></code></pre></div></td></tr></table></figure>

<p>　　我们看下再iOS上的效果：</p>
<p><img src="/images/React-Native-Component/loading.gif" srcset="/img/loading.gif" lazyload alt="iOS下ActivityIndicator"></p>
<script>if(window.location.hostname.indexOf("xieyufei.com") === -1){ window.location.href = "https://xieyufei.com" }</script>
<p>　　我们看到当animating为false时，隐藏ActivityIndicator的动效，整个指示器像是消失了一样；这是因为hidesWhenStopped默认为true，将指示器隐藏了，如果我们将该属性设为false，则会展示一个静止状态的指示器。我们再看下安卓下的指示器效果：</p>
<p><img src="/images/React-Native-Component/loading-android.gif" srcset="/img/loading.gif" lazyload alt="安卓下ActivityIndicator"></p>
<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>
<p>　　<code>hidesWhenStopped</code>属性在安卓下没有起到作用。</p>
<h3 id="StatusBar"><a href="#StatusBar" class="headerlink" title="StatusBar"></a>StatusBar</h3><p>　　<code>StatusBar组件</code>用于控制应用顶部的状态栏，包含时间，运营商名称，网络情况，电池情况等；由于它可以在任何视图加载，当有多个StatusBar组件时，后加载的组件会覆盖前面的，因此使用时需要注意；</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx">&lt;<span class="hljs-title class_">View</span>&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">StatusBar</span> <span class="hljs-attr">backgroundColor</span>=<span class="hljs-string">&quot;blue&quot;</span> <span class="hljs-attr">barStyle</span>=<span class="hljs-string">&quot;light-content&quot;</span> /&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">StatusBar</span> <span class="hljs-attr">hidden</span>=<span class="hljs-string">&#123;route.statusBarHidden&#125;</span> /&gt;</span></span><br><span class="language-xml">    ...</span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br>&lt;/<span class="hljs-title class_">View</span>&gt;<br></code></pre></div></td></tr></table></figure>


<p>我们分别来看下它支持的属性。</p>
<p>　　<code>animated</code>设置当状态栏的状态发生变化时，是否需要加入动画；动画支持backgroundColor、barStyle和hidden等属性的变化。<code>hidden</code>属性用于设置状态栏是否隐藏：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx">&lt;<span class="hljs-title class_">View</span>&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">StatusBar</span> <span class="hljs-attr">animated</span>=<span class="hljs-string">&#123;true&#125;</span> <span class="hljs-attr">hidden</span>=<span class="hljs-string">&#123;this.state.hidden&#125;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">StatusBar</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Status Bar hidden<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span><br>&lt;/<span class="hljs-title class_">View</span>&gt;<br></code></pre></div></td></tr></table></figure>

<script>if(window.location.hostname.indexOf("xieyufei.com") === -1){ window.location.href = "https://xieyufei.com" }</script>
<p>　　我们看下改变hidden带上animated的效果：</p>
<p><img src="/images/React-Native-Component/statusbar-hidden.gif" srcset="/img/loading.gif" lazyload alt="hidden效果"></p>
<p>　　如果animated为false则没有动画效果，切换的比较生硬了；<code>backgroundColor</code>属性设置状态栏的背景颜色，仅支持安卓：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx">&lt;<span class="hljs-title class_">View</span>&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">StatusBar</span> <span class="hljs-attr">backgroundColor</span>=<span class="hljs-string">&quot;blue&quot;</span> /&gt;</span></span><br>&lt;/<span class="hljs-title class_">View</span>&gt;<br></code></pre></div></td></tr></table></figure>

<p><img src="/images/React-Native-Component/backgroundColor.png" srcset="/img/loading.gif" lazyload alt="backgroundColor效果"></p>
<p>　　barStyle用于设置状态栏文字的颜色，其值是枚举类型enum(‘default’, ‘light-content’, ‘dark-content’)，仅针对Android 6.0以上版本:</p>
<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>
<p><img src="/images/React-Native-Component/barStyle.png" srcset="/img/loading.gif" lazyload alt="barStyle安卓效果"></p>
<p>　　networkActivityIndicatorVisible属性是一个Boolean类型，在iOS平台上指定显示一个网络活动提示符：</p>
<p><img src="/images/React-Native-Component/networkActivityIndicatorVisible.png" srcset="/img/loading.gif" lazyload alt="networkActivityIndicatorVisible效果"></p>
<p>　　translucent属性适用于Android平台，用来指定状态栏是否透明。</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx">&lt;<span class="hljs-title class_">StatusBar</span> translucent=&#123; <span class="hljs-literal">true</span> &#125; backgroundColor=<span class="hljs-string">&quot;transparent&quot;</span> /&gt;<br></code></pre></div></td></tr></table></figure>

<h3 id="TouchableWithoutFeedback"><a href="#TouchableWithoutFeedback" class="headerlink" title="TouchableWithoutFeedback"></a>TouchableWithoutFeedback</h3><p>　　<code>TouchableWithoutFeedback组件</code>是Touchable系列组件中最基本的一个组件，只响应用户的点击事件<code>不会做任何UI上的改变</code>，这就是它的名字<code>WithoutFeedback</code>，同时它也不能设置style样式；因此除非有特别的原因，否则一般很少用这个组件，它支持以下属性：</p>
<script>if(window.location.hostname.indexOf("xieyufei.com") === -1){ window.location.href = "https://xieyufei.com" }</script>
<ul>
<li>onPress：当触摸操作结束时调用</li>
<li>onLongPress：当用户长时间按压组件(长按效果)的时候调用</li>
<li>onPressIn：当用户开始点击按钮时调用</li>
<li>onPressOut：当用户点击结束时调用</li>
<li>disabled：bool值默认false，如果设为 true，则禁止此组件的一切交互。</li>
<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx">&lt;<span class="hljs-title class_">TouchableWithoutFeedback</span><br>  onPress=&#123;<span class="hljs-variable language_">this</span>.<span class="hljs-property">_onPress</span>&#125;<br>  onLongPress=&#123;<span class="hljs-variable language_">this</span>.<span class="hljs-property">_onLongPress</span>&#125;<br>  onPressIn=&#123;<span class="hljs-variable language_">this</span>.<span class="hljs-property">_onPressIn</span>&#125;<br>  onPressOut=&#123;<span class="hljs-variable language_">this</span>.<span class="hljs-property">_onPressOut</span>&#125;&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>点击按钮<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br>&lt;/<span class="hljs-title class_">TouchableWithoutFeedback</span>&gt;<br></code></pre></div></td></tr></table></figure>

<p>　　需要注意的是，Touchable系列组件都只支持一个子元素（有且仅有一个）；如果我们想要放置多个元素，可以用一个View包裹它们。</p>
<h3 id="TouchableOpacity"><a href="#TouchableOpacity" class="headerlink" title="TouchableOpacity"></a>TouchableOpacity</h3><p>　　<code>TouchableHighlight</code>组件是Touchable系列组件中比较常用的，和它的名字Opacity一样，它是通过在按下去改变视图的不透明度来表示按钮被点击的，相比<code>TouchableHighlight</code>少了一个额外的颜色变化，它支持设置style样式。</p>
<p>　　它最重要的一个属性就是<code>activeOpacity</code>，表示按钮被触摸操作激活时以多少不透明度显示（0 到 1 之间），默认值为 0.2，数值越小透明效果效果越明显，我们可以设置一个大一点的数值：</p>
<script>if(window.location.hostname.indexOf("xieyufei.com") === -1){ window.location.href = "https://xieyufei.com" }</script>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx">&lt;<span class="hljs-title class_">TouchableOpacity</span> activeOpacity=&#123;<span class="hljs-number">0.6</span>&#125; style=&#123;&#123;<span class="hljs-attr">marginTop</span>: <span class="hljs-number">40</span>&#125;&#125;&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>点击TouchableOpacity按钮<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br>&lt;/<span class="hljs-title class_">TouchableOpacity</span>&gt;<br></code></pre></div></td></tr></table></figure>

<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>

<p>　　我们看下TouchableOpacity点出触发的效果：</p>
<p><img src="/images/React-Native-Component/opacity.gif" srcset="/img/loading.gif" lazyload alt="TouchableOpacity效果"></p>
<h3 id="TouchableHighlight"><a href="#TouchableHighlight" class="headerlink" title="TouchableHighlight"></a>TouchableHighlight</h3><p>　　<code>TouchableHighlight组件</code>也是比较常用的点击按钮，它在<code>TouchableWithoutFeedback</code>的基础上添加了一些UI上的扩展，当按钮点击触发时，该视图的不透明度会降低，同时会看到相应的颜色；它支持以下属性：</p>
<ul>
<li>activeOpacity：被触摸操作激活时以多少不透明度显示</li>
<script>if(window.location.hostname.indexOf("xieyufei.com") === -1){ window.location.href = "https://xieyufei.com" }</script>
<li>underlayColor：按钮点击触发时显示出来的底层的颜色</li>
<li>onHideUnderlay：底层的颜色被隐藏的时候调用。</li>
<li>onShowUnderlay：当底层的颜色被显示的时候调用。</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx">&lt;<span class="hljs-title class_">TouchableHighlight</span><br>  underlayColor=&#123;<span class="hljs-string">&#x27;orange&#x27;</span>&#125;<br>  activeOpacity=&#123;<span class="hljs-number">0.5</span>&#125;<br>  onPress=&#123;<span class="hljs-variable language_">this</span>.<span class="hljs-property">_onPress</span>&#125;<br>  onHideUnderlay=&#123;<span class="hljs-variable language_">this</span>.<span class="hljs-property">_hideUnderlay</span>&#125;<br>  onShowUnderlay=&#123;<span class="hljs-variable language_">this</span>.<span class="hljs-property">_showUnderlay</span>&#125;<br>  style=&#123;&#123;<span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">&#x27;#4E6EF2&#x27;</span>&#125;&#125;&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>点击TouchableHighlight按钮<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br>&lt;/<span class="hljs-title class_">TouchableHighlight</span>&gt;<br></code></pre></div></td></tr></table></figure>

<p>　　我们看下TouchableHighlight的效果：</p>
<p><img src="/images/React-Native-Component/highlight.gif" srcset="/img/loading.gif" lazyload alt="TouchableHighlight效果"></p>
<h3 id="Modal"><a href="#Modal" class="headerlink" title="Modal"></a>Modal</h3><p>　　<code>Modal组件</code>是一种简单的覆盖在屏幕最上层显示内容的组件，且用户无法对下层的UI进行操作，因此我们可以随意在Modal上进行UI操作，它有以下属性：</p>
<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>
<ul>
<li>visible：bool值，决定modal是否显示</li>
<li>transparent：bool值，指背景是否透明，默认为false，背景为白色</li>
<li>animationType：指定了 modal 的动画类型</li>
<script>if(window.location.hostname.indexOf("xieyufei.com") === -1){ window.location.href = "https://xieyufei.com" }</script>
</ul>
<ul>
<li>slide：从底部滑入滑出。</li>
<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>
<li>fade：淡入淡出。</li>
<li>none：没有动画，直接蹦出来。</li>
</ul>
<ul>
<li>onShow：onShow回调函数会在modal显示时调用。</li>
<script>if(window.location.hostname.indexOf("xieyufei.com") === -1){ window.location.href = "https://xieyufei.com" }</script>
<li>onDismiss：onDismiss回调会在modal被关闭时调用</li>
</ul>
<p>　　Modal组件通过<code>visible</code>属性来控制是否出现；<code>transparent</code>设置背景的透明度，如果为false，则整个背景都会变成不透明的白色覆盖；因此一般设置为true，再在根组件设置背景颜色为<code>rbga(0,0,0,0.5)</code>增加黑色的蒙层。</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Index</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">super</span>();<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = &#123;<br>      <span class="hljs-attr">visible</span>: <span class="hljs-literal">false</span>,<br>    &#125;;<br>  &#125;<br>  onClick = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;<br>      <span class="hljs-attr">visible</span>: !<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">visible</span>,<br>    &#125;);<br>  &#125;;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;显示Model&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">onPress</span>=<span class="hljs-string">&#123;this.onClick&#125;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Modal</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">visible</span>=<span class="hljs-string">&#123;this.state.visible&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">animationType</span>=<span class="hljs-string">&quot;none&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">transparent</span>=<span class="hljs-string">&#123;true&#125;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">View</span></span></span><br><span class="hljs-tag"><span class="language-xml">            <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span></span></span><br><span class="hljs-tag"><span class="language-xml">              <span class="hljs-attr">backgroundColor:</span> &#x27;<span class="hljs-attr">rgba</span>(<span class="hljs-attr">0</span>,<span class="hljs-attr">0</span>,<span class="hljs-attr">0</span>,<span class="hljs-attr">0.3</span>)&#x27;,</span></span><br><span class="hljs-tag"><span class="language-xml">              <span class="hljs-attr">flex:</span> <span class="hljs-attr">1</span>,</span></span><br><span class="hljs-tag"><span class="language-xml">              <span class="hljs-attr">justifyContent:</span> &#x27;<span class="hljs-attr">center</span>&#x27;,</span></span><br><span class="hljs-tag"><span class="language-xml">              <span class="hljs-attr">alignItems:</span> &#x27;<span class="hljs-attr">center</span>&#x27;,</span></span><br><span class="hljs-tag"><span class="language-xml">            &#125;&#125;&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;width:</span> <span class="hljs-attr">200</span>, <span class="hljs-attr">height:</span> <span class="hljs-attr">200</span>, <span class="hljs-attr">backgroundColor:</span> &#x27;#<span class="hljs-attr">fff</span>&#x27;&#125;&#125;&gt;</span></span><br><span class="language-xml">              <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>标题<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span><br><span class="language-xml">              <span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;关闭&quot;</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">&#123;this.onClick&#125;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span></span><br><span class="language-xml">              <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">Modal</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>


<script>if(window.location.hostname.indexOf("xieyufei.com") === -1){ window.location.href = "https://xieyufei.com" }</script>
<p>　　我们看下三种动画的效果：</p>
<p><img src="/images/React-Native-Component/modal.gif" srcset="/img/loading.gif" lazyload alt="Modal效果"></p>
<h2 id="iOS组件"><a href="#iOS组件" class="headerlink" title="iOS组件"></a>iOS组件</h2><h3 id="SafeAreaView"><a href="#SafeAreaView" class="headerlink" title="SafeAreaView"></a>SafeAreaView</h3><p>　　<code>SafeAreaView</code>组件用于在一个<code>安全</code>的可视区域内渲染内容；这个组件存在的目的就是针对iPhone X这样带有齐刘海的全面屏设备，为了避免页面内容渲染到刘海范围内。本组件目前仅支持<code>iOS设备</code>以及<code>iOS 11</code>或更高版本。</p>
<p>　　它的用法也非常简单，只要把我们原有的页面视图通过<code>SafeAreaView</code>组件包裹起来，同时设置<code>flex: 1</code>，一般可以在根组件上设置：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> <span class="hljs-title function_">SafeAreaViewComponent</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">SafeAreaView</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;flex:</span> <span class="hljs-attr">1</span>&#125;&#125;&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Page Content<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">SafeAreaView</span>&gt;</span></span><br>  );<br>&#125;;<br></code></pre></div></td></tr></table></figure>

<p>　　我们看下SafeAreaView组件不使用和使用的两种效果。</p>
<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>
<p><img src="/images/React-Native-Component/safe-area.png" srcset="/img/loading.gif" lazyload alt="SafeAreaView效果"></p>
<p>　　为了在样式上适配iPhone X的屏幕，我们可以在utils中封装一个函数，来单独判断iPhone X：</p>
<figure class="highlight js"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;<span class="hljs-title class_">Dimensions</span>, <span class="hljs-title class_">Platform</span>&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-native&#x27;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> screenW = <span class="hljs-title class_">Dimensions</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;window&#x27;</span>).<span class="hljs-property">width</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> screenH = <span class="hljs-title class_">Dimensions</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;window&#x27;</span>).<span class="hljs-property">height</span>;<br><br><span class="hljs-comment">// iPhoneX</span><br><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">X_WIDTH</span> = <span class="hljs-number">375</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">X_HEIGHT</span> = <span class="hljs-number">812</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">isIphoneX</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="hljs-title class_">Platform</span>.<span class="hljs-property">OS</span> === <span class="hljs-string">&#x27;ios&#x27;</span> &amp;&amp;<br>    ((screenH === <span class="hljs-variable constant_">X_HEIGHT</span> &amp;&amp; screenW === <span class="hljs-variable constant_">X_WIDTH</span>) ||<br>      (screenH === <span class="hljs-variable constant_">X_WIDTH</span> &amp;&amp; screenW === <span class="hljs-variable constant_">X_HEIGHT</span>))<br>  );<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">ifIphoneX</span>(<span class="hljs-params">iphoneXStyle, iosStyle, androidStyle</span>) &#123;<br>  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isIphoneX</span>()) &#123;<br>    <span class="hljs-keyword">return</span> iphoneXStyle;<br>  &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Platform</span>.<span class="hljs-property">OS</span> === <span class="hljs-string">&#x27;ios&#x27;</span>) &#123;<br>    <span class="hljs-keyword">return</span> iosStyle;<br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-keyword">if</span> (androidStyle) <span class="hljs-keyword">return</span> androidStyle;<br>    <span class="hljs-keyword">return</span> iosStyle;<br>  &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<script>if(window.location.hostname.indexOf("xieyufei.com") === -1){ window.location.href = "https://xieyufei.com" }</script>
<p>　　我们在样式中就可以直接使用<code>ifIphoneX</code>函数：</p>
<figure class="highlight js"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs js"><span class="hljs-keyword">const</span> styles = <span class="hljs-title class_">StyleSheet</span>.<span class="hljs-title function_">create</span>(&#123;  <br>    <span class="hljs-attr">topBar</span>: &#123;  <br>        <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">&#x27;#ffffff&#x27;</span>,  <br>        ...<span class="hljs-title function_">ifIphoneX</span>(&#123;  <br>          <span class="hljs-comment">// iPhone X样式</span><br>          <span class="hljs-attr">paddingTop</span>: <span class="hljs-number">44</span>  <br>        &#125;, &#123;<br>          <span class="hljs-comment">// iOS样式</span><br>          <span class="hljs-attr">paddingTop</span>: <span class="hljs-number">20</span>  <br>        &#125;)<br>    &#125;,  <br>&#125;)  <br></code></pre></div></td></tr></table></figure>


<h2 id="安卓组件"><a href="#安卓组件" class="headerlink" title="安卓组件"></a>安卓组件</h2><h3 id="TouchableNativeFeedback"><a href="#TouchableNativeFeedback" class="headerlink" title="TouchableNativeFeedback"></a>TouchableNativeFeedback</h3><p>　　<code>TouchableNativeFeedback</code>组件是Touchable系列组件中最后一个组件，可以在Android 5.0以后触摸实现水波纹的效果，因此也只能在Android平台使用。</p>
<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>
<p>　　我们可以通过<code>background</code>属性来自定义原生触摸操作反馈的背景，它接受一个有着type属性和一些基于type属性的额外数据的对象，这个对象推荐通过本组件的几个静态方法来创建：</p>
<ul>
<li>SelectableBackground：会创建一个对象，表示安卓主题默认的对于被选中对象的背景</li>
<li>SelectableBackgroundBorderless：会创建一个对象，表示安卓主题默认的对于被选中的无边框对象的背景</li>
<li>Ripple：会创建一个对象，当按钮被按下时产生一个涟漪状的背景，你可以通过 color 参数来指定颜色</li>
</ul>
<p>　　上面的效果太绕口，我看下SelectableBackground的用法：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx">&lt;<span class="hljs-title class_">TouchableNativeFeedback</span><br>  background=&#123;<span class="hljs-title class_">TouchableNativeFeedback</span>.<span class="hljs-title class_">SelectableBackground</span>()&#125;&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;width:</span> <span class="hljs-attr">300</span>, <span class="hljs-attr">height:</span> <span class="hljs-attr">100</span>, <span class="hljs-attr">backgroundColor:</span> &#x27;<span class="hljs-attr">red</span>&#x27;&#125;&#125;&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>TouchableNativeFeedback<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br>&lt;/<span class="hljs-title class_">TouchableNativeFeedback</span>&gt;<br></code></pre></div></td></tr></table></figure>

<p>　　我们看到在View按钮点击时，有水波纹的效果：</p>
<script>if(window.location.hostname.indexOf("xieyufei.com") === -1){ window.location.href = "https://xieyufei.com" }</script>
<p><img src="/images/React-Native-Component/selectable-background.gif" srcset="/img/loading.gif" lazyload alt="SelectableBackground效果"></p>
<p>　　SelectableBackgroundBorderless的效果则会超过整个按钮的边框限制：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx">&lt;<span class="hljs-title class_">TouchableNativeFeedback</span><br>  background=&#123;<span class="hljs-title class_">TouchableNativeFeedback</span>.<span class="hljs-title class_">SelectableBackgroundBorderless</span>()&#125;&gt;<br>  <span class="hljs-comment">// ...</span><br>&lt;/<span class="hljs-title class_">TouchableNativeFeedback</span>&gt;<br></code></pre></div></td></tr></table></figure>

<p><a class="prevent_reptile" href="https://www.xieyufei.com" style="font-size:24px" target="_blank" rel="noopener">谢小飞博客专用防爬虫链接，想要看最新的前端博客请点这里</a></p>
<p><img src="/images/React-Native-Component/border-less.gif" srcset="/img/loading.gif" lazyload alt="SelectableBackgroundBorderless效果"></p>
<p>　　我们上面创建的波纹都是默认的黑色，Ripple函数支持传入一个color参数来指定颜色，它的第二个参数borderless也能设置涟漪是否扩散到按钮之外，达到和SelectableBackgroundBorderless一样的效果：</p>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">static Ripple(color: string, borderless: boolean, rippleRadius: ?number)<br></code></pre></div></td></tr></table></figure>


<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx">&lt;<span class="hljs-title class_">TouchableNativeFeedback</span><br>  background=&#123;<span class="hljs-title class_">TouchableNativeFeedback</span>.<span class="hljs-title class_">Ripple</span>(<span class="hljs-string">&#x27;blue&#x27;</span>, <span class="hljs-literal">false</span>)&#125;&gt;<br>  <span class="hljs-comment">// ...</span><br>&lt;/<span class="hljs-title class_">TouchableNativeFeedback</span>&gt;<br></code></pre></div></td></tr></table></figure>

<p>　　效果如下：</p>
<script>if(window.location.hostname.indexOf("xieyufei.com") === -1){ window.location.href = "https://xieyufei.com" }</script>
<p><img src="/images/React-Native-Component/ripple.gif" srcset="/img/loading.gif" lazyload alt="Ripple效果"></p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/programing/">编程</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/FrontEnd/">前端</a>
                    
                      <a class="hover-with-bg" href="/tags/Apps/">移动端</a>
                    
                      <a class="hover-with-bg" href="/tags/React/">React</a>
                    
                      <a class="hover-with-bg" href="/tags/ReactNative/">ReactNative</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本网所有内容文字和图片，版权均属谢小飞所有，任何媒体、网站或个人未经本网协议授权不得转载、链接、转贴或以其他方式复制发布/发表。如需转载请关注公众号【前端壹读】后回复【转载】。
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/06/08/FrontEnd-Docker-Compose.html">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">前端抢饭碗系列之Docker容器编排</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/03/22/FrontEnd-Docker-Advance.html">
                        <span class="hidden-mobile">前端抢饭碗系列之Docker进阶部署</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments" lazyload>
                
                  
                
                
  <div id="waline"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#waline', function() {
      Fluid.utils.createScript('https://xieyufei.com/npm/waline@1.6.0/Waline.min.js', function() {
        var options = Object.assign(
          {"serverURL":"https://comment.xieyufei.com","placeholder":"说点什么","path":"window.location.pathname","avatar":"retro","meta":["nick","mail","link"],"pageSize":10,"lang":"zh-CN","highlight":true,"avatarCDN":"","avatarForce":false,"requiredFields":[],"emojiCDN":null,"emojiMaps":null,"anonymous":null,"appId":"dUHCmA1MmCKBNcTMG9KBopvL-MdYXbMMI","appKey":"33GvkVfTefXyelQRBTXNgEn6"},
          {
            el: '#waline',
            path: window.location.pathname
          }
        )
        new Waline(options);
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="javascript:; target="_blank" rel="nofollow noopener"><span>We</span></a> <i class="iconfont icon-love"></i> <a href="https://xieyufei.com" target="_blank" rel="nofollow noopener"><span>谢小飞</span></a> <div> <span id="timeDate">载入天数...</span> <span id="times">载入时分秒...</span> <script src="/js/duration.js"></script> </div> 
  </div>
  

  
  <!-- 备案信息 -->
  <div class="beian">
    <span>
      <a href="http://beian.miit.gov.cn/" target="_blank" rel="nofollow noopener">
        苏ICP备2024128889号-1
      </a>
    </span>
    
  </div>


  
    <!-- cnzz Analytics Icon -->
    <span id="cnzz_stat_icon_1260607518" style="display: none"></span>
  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://xieyufei.com/npm/nprogress@0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://xieyufei.com/npm/nprogress@0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://xieyufei.com/npm/jquery@3.6.0/dist/jquery.min.js" ></script>
<script  src="https://xieyufei.com/npm/bootstrap/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  <script  src="https://xieyufei.com/npm/tocbot@4.12.3/dist/tocbot.min.js" ></script>



  <script  src="https://xieyufei.com/npm/fancybox@3.5.7/dist/jquery.fancybox.min.js" ></script>



  <script  src="https://xieyufei.com/npm/anchor-js@4.3.1/anchor.min.js" ></script>



  <script defer src="https://xieyufei.com/npm/clipboard@2.0.8/dist/clipboard.min.js" ></script>



  <script  src="/js/local-search.js" ></script>






  <script  src="https://xieyufei.com/npm/typed.js@2.0.12/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>












  
    <!-- Baidu Analytics -->
    <script defer>
      var _hmt = _hmt || [];
      (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?466240fe55764d8ee20bd7f43c5e8b26";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
      })();
    </script>
  

  

  

  

  

  
    <!-- cnzz Analytics -->
    <script defer src="//s4.cnzz.com/z_stat.php?id=1260607518&show=pic"
            type="text/javascript"></script>
  





<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
